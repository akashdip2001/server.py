<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Akashdip's Project Portfolio</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Poppins", sans-serif;
      }

      body {
        background: linear-gradient(135deg, #1f1c2c, #928dab);
        color: #fff;
        padding: 20px;
      }

      header {
        text-align: center;
        margin-bottom: 40px;
      }

      header h1 {
        font-size: 2.5rem;
        text-shadow: 2px 2px 5px #000;
      }

      .category {
        margin-bottom: 40px;
      }

      .category h2 {
        border-left: 5px solid #ff9800;
        padding-left: 15px;
        margin-bottom: 20px;
        font-size: 1.8rem;
        text-shadow: 1px 1px 3px #000;
      }

      .projects {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .project-card {
        background: #2e2a4b;
        padding: 15px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .project-card:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 30px rgba(255, 152, 0, 0.6);
      }

      .project-card img {
        width: 100%;
        height: auto;
        max-height: 150px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 10px;
      }

      .project-card h3 {
        font-size: 1.2rem;
        margin-bottom: 10px;
      }

      .project-card p {
        font-size: 0.9rem;
        margin-bottom: 10px;
      }

      .project-card a {
        color: #ff9800;
        text-decoration: none;
        display: block;
        margin-bottom: 10px;
      }

      .tech-used {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: 10px;
      }

      .tech-tag {
        padding: 4px 8px;
        border-radius: 20px;
        font-size: 0.75rem;
        background-color: #4caf50;
        color: white;
        font-weight: bold;
      }

      .tech-hard {
        background-color: #ff9800;
      }

      @media (max-width: 600px) {
        header h1 {
          font-size: 2rem;
        }
      }

      .tech-list span {
        font-size: 0.8rem;
        box-shadow: 1px 1px 3px #00000044;
      }

      .project-card ul {
        padding-left: 20px;
        margin-bottom: 10px;
      }

      .project-card li {
        font-size: 0.9rem;
        line-height: 1.4;
      }

      /* Fullscreen image preview */
      #imgPreview {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        max-width: 90vw;
        max-height: 90vh;
        border: 5px solid #fff;
        box-shadow: 0 0 20px #000;
        display: none;
        z-index: 1000;
        border-radius: 10px;
        animation: fadeIn 0.3s ease-in-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9) translate(-50%, -50%);
        }
        to {
          opacity: 1;
          transform: scale(1) translate(-50%, -50%);
        }
      }

      .tech-easy {
        background-color: #4caf50;
      }
      .tech-medium {
        background-color: #2196f3;
      }
      .tech-hard {
        background-color: #ff5722;
      }
      .tech-sample {
        background-color: #9e9e9e;
      }
      .tech-scratch {
        background-color: #e91e63;
      }

      .project-card h3 {
        font-size: 1.2rem;
        margin-bottom: 10px;
      }

      /* Tooltip container */
      .tooltip-sample {
        position: relative;
        display: inline-block;
        cursor: pointer;
      }

      /* Tooltip text */
      .tooltip-sample .tooltip-text {
        visibility: hidden;
        width: 240px;
        background-color: #333;
        color: #fff;
        text-align: left;
        border-radius: 8px;
        padding: 8px 12px;
        position: absolute;
        z-index: 1;
        bottom: 130%;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      /* Tooltip arrow */
      .tooltip-sample .tooltip-text::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        border-width: 6px;
        border-style: solid;
        border-color: #333 transparent transparent transparent;
      }

      /* Show tooltip on hover */
      .tooltip-sample:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
      }

      /* Popup for mobile */
      .sample-popup {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: #fff;
        padding: 10px 15px;
        border-radius: 8px;
        z-index: 9999;
        display: none;
        font-size: 0.9rem;
      }

      .desc {
        font-size: 0.75rem;
        max-height: 4.5em; /* ~3 lines */
        overflow: hidden;
        position: relative;
      }

      .desc.show-full {
        max-height: none;
      }

      .learn-more {
        color: #ff9800;
        font-size: 0.75rem;
        cursor: pointer;
        display: inline-block;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 9999;
        display: none;
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background: #2e2a4b;
        padding: 20px;
        border-radius: 12px;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
        color: white;
        font-size: 0.85rem;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
      }

      .reward-container {
  max-width: 1100px;
  margin: 50px auto;
  padding: 40px 20px;
  background: linear-gradient(135deg, #232526, #414345);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
  color: #fff;
}

.reward-header {
  text-align: center;
  margin-bottom: 30px;
}
.reward-header h2 {
  font-size: 2.5rem;
  color: #facc15;
  text-shadow: 2px 2px #000;
}
.reward-header p {
  font-size: 1.1rem;
  color: #ccc;
}

.reward-grid {
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  margin-top: 30px;
}

.reward-card {
  background: #2e2a4b;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 8px 20px rgba(255, 152, 0, 0.3);
  transition: transform 0.3s ease;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
}
.reward-card:hover {
  transform: scale(1.05);
}
.reward-card h3 {
  font-size: 1.25rem;
  margin-bottom: 10px;
  color: #ffeb3b;
}
.reward-card p {
  font-size: 0.95rem;
  line-height: 1.5;
  color: #ddd;
}
.reward-card .badge {
  margin-top: auto;
  display: inline-block;
  background: #ff9800;
  color: white;
  font-weight: bold;
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 0.85rem;
  align-self: flex-start;
}
.reward-card.special {
  background: #ffe082;
  color: #000;
}
.reward-card.special h3 {
  color: #e65100;
  text-shadow: 2px 2px 6px rgba(161, 19, 19, 0.2), 0 0 12px #ff5722;

}

.reward-card.special p {
  color: #222;
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5), 0 0 4px #ff9800;
}

.reward-card.special .badge.gold {
  background: #fbc02d;
  color: #000;
}

.reward-info {
  margin-top: 40px;
  font-size: 1rem;
  line-height: 1.6;
  color: #bbb;
}
.reward-info ul {
  list-style: none;
  padding-left: 0;
}
.reward-info li {
  margin-bottom: 10px;
  position: relative;
  padding-left: 25px;
}
.reward-info li::before {
  content: "✔";
  color: #4caf50;
  position: absolute;
  left: 0;
  top: 0;
}

.reward-cta {
  margin-top: 40px;
  text-align: center;
}
.cta-button {
  display: inline-block;
  background: linear-gradient(90deg, #ff4081, #ff9800);
  padding: 14px 32px;
  border-radius: 999px;
  color: white;
  font-weight: bold;
  font-size: 1.1rem;
  text-decoration: none;
  box-shadow: 0 4px 20px rgba(255, 152, 0, 0.5);
  transition: transform 0.3s ease;
}
.cta-button:hover {
  transform: scale(1.05);
}

.reward-float-button {
  position: fixed;
  bottom: 1.5rem;
  right: 5.5rem;
  z-index: 9999;
  padding: 0.85rem 1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  border: none;
  border-radius: 999px;
  background: linear-gradient(135deg, #ff00c8, #ffc400);
  box-shadow: 0 0 20px rgba(255, 165, 0, 0.6), 0 0 40px rgba(255, 105, 180, 0.4);
  transition: all 0.3s ease;
  animation: glowPulse 2s infinite ease-in-out;
  cursor: pointer;
  backdrop-filter: blur(5px);
}

.reward-float-button:hover {
  transform: scale(1.1) translateY(-5px);
  box-shadow: 0 0 25px rgba(255, 200, 0, 0.8), 0 0 50px rgba(255, 0, 150, 0.6);
}

.reward-float-button:focus {
  outline: none;
  box-shadow: 0 0 10px #fff, 0 0 20px #ff4081;
}

.reward-float-button .emoji {
  font-size: 1.5rem;
  animation: shake 1.5s infinite ease-in-out;
  margin-right: 0.5rem;
  display: inline-block;
}

/* Pulse Glow Animation */
@keyframes glowPulse {
  0% {
    box-shadow: 0 0 10px rgba(255, 200, 0, 0.6), 0 0 20px rgba(255, 0, 150, 0.3);
  }
  50% {
    box-shadow: 0 0 25px rgba(255, 200, 0, 0.8), 0 0 40px rgba(255, 0, 150, 0.6);
  }
  100% {
    box-shadow: 0 0 10px rgba(255, 200, 0, 0.6), 0 0 20px rgba(255, 0, 150, 0.3);
  }
}

/* Subtle Shake Animation */
@keyframes shake {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(8deg);
  }
  50% {
    transform: rotate(-8deg);
  }
  75% {
    transform: rotate(4deg);
  }
}

.social-buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 20px auto 40px;
  flex-wrap: wrap;
}

.social-button {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 20px;
  border-radius: 15px;
  text-decoration: none;
  font-weight: bold;
  font-size: 1rem;
  color: #fff;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
  transition: transform 0.3s, box-shadow 0.3s;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.social-button img {
  width: 24px;
  height: 24px;
  filter: brightness(1.2);
}

.social-button:hover {
  transform: scale(1.08);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 200, 0, 0.3);
}

/* Optional: Platform-specific glow */
.github:hover {
  box-shadow: 0 0 20px #ffffff80;
}
.linkedin:hover {
  box-shadow: 0 0 20px #0a66c280;
}
.youtube:hover {
  box-shadow: 0 0 20px #ff000080;
}

.modal-overlay {
  position: fixed;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 99999;
}

.modal-overlay.show {
  display: flex;
}

.modal-content form {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.modal-content input {
  padding: 8px 12px;
  border-radius: 8px;
  border: none;
  background: #1f1c2c;
  color: white;
}

.modal-content label {
  font-size: 0.9rem;
  font-weight: 600;
  margin-top: 10px;
}

@media (max-width: 500px) {
  .modal-content {
    width: 75%;
    max-height: 80vh;
    overflow-y: auto;
    margin-right: 15%;
  }
}

.reward-cta-flex {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-top: 40px;
  flex-wrap: wrap;
}

.reward-cta-flex .cta-button {
  flex: 1 1 200px;
  text-align: center;
  min-width: 180px;
}

/* Optional: Make Submit button look different */
.outline-button {
  background: transparent;
  border: 2px solid #ff9800;
  color: #ff9800;
  transition: all 0.3s ease;
}
.outline-button:hover {
  background: #ff9800;
  color: white;
}
</style>

</head>
  <body>
    <div class="modal-overlay" id="descModal">
      <div class="modal-content" id="modalContent"></div>
    </div>

    <img id="imgPreview" />
    <header>
      <h1>Think Out of the Box</h1>
    </header>

    <div class="social-buttons">
        <a href="https://github.com/akashdip2001" target="_blank" class="social-button github">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" />
          GitHub
        </a>
        <a href="https://www.linkedin.com/in/akashdip2001" target="_blank" class="social-button linkedin">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" alt="LinkedIn" />
          LinkedIn
        </a>
        <a href="https://www.youtube.com/@akashdip2001" target="_blank" class="social-button youtube">
          <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube" />
          YouTube
        </a>
    </div>

    <!-- 🎁 Floating Dynamic Button -->
    <button
      id="floatingButton"
      class="reward-float-button reward-mode"
      onclick="handleRewardButton()"
>   
      <span class="emoji">🎁</span> Claim Reward
    </button>

    <div class="category">
      <h2>Development</h2>
      <div class="projects" id="development-projects"></div>
    </div>

    <div class="category">
      <h2>IoT</h2>
      <div class="projects" id="iot-projects"></div>
    </div>

    <div class="category">
      <h2>Networking</h2>
      <div class="projects" id="networking-projects"></div>
    </div>

    <div class="category">
      <h2>H@cking</h2>
      <div class="projects" id="penetration-testing-projects"></div>
    </div>

    <!-- 🎉 Hidden Reward Section -->
    <div id="rewardSection" class="hidden reward-container animate-slide-up">
        <div class="reward-header">
          <h2>🎉 Reward Program</h2>
          <p>Complete challenges, earn GitHub vouchers, and gain recognition! 💪</p>
        </div>
      
        <div class="reward-grid">
          <div class="reward-card">
            <h3>🎯 Easy + Hard Combo</h3>
            <br>✅ 1 Easy Project  (complete)<br /><br />⚠ 1 hard project (may not complete - fork the repo and try to do something new)</p>
            <span class="badge">1 Voucher 🎟️</span>
          </div>
          <div class="reward-card">
            <h3>🧠 Medium Project</h3>
            <p>✅ Complete and Pull one medium-level project and explain what you do, and get</p>
            <span class="badge">1 Voucher 🎟️</span>
          </div>
          <div class="reward-card">
            <h3>🔥 Hard Project</h3>
            <br>✅ Complete and Pull one hard-level project.<br /><br />✅ Unique idea with excellent UX or features</p>
            <span class="badge">2 Vouchers 🎟️🎟️</span>
          </div>
          <div class="reward-card special">
            <h3>🚀 Scratch Project</h3>
            <p>✅ Fully original concept from scratch</p>
            <span class="badge gold">3 Vouchers 🎟️🎟️🎟️</span>
          </div>
        </div>
      
        <div class="reward-info">
          <ul>
            <li>🕒 2 months to submit your Pull Request</li>
            <li>👥 Max 3 members per team/project</li>
            <li>🏆 Top 5–10 projects can earn the reward. (depending on their projects)</li>
          </ul>
        </div>
      
        <div class="reward-cta-flex">
            <button onclick="togglePopup(true)" class="cta-button outline-button">
              📥 Submit Your Work
            </button>
            <a
              href="https://examregistration.github.com/"
              target="_blank"
              class="cta-button"
            >
              🔗 Register for Exam
            </a>
          </div>          
      </div>
  
  <!-- 📨 Popup Modal -->
  <div id="submitModal" class="modal-overlay">
    <div class="modal-content" style="max-width: 500px;">
      <h2 style="margin-bottom: 10px;">Submit Your Project</h2>
      <form id="submissionForm">
        <label>Full Name:</label>
        <input type="text" name="fullName" required />
  
        <label>GitHub Profile Link:</label>
        <input type="url" name="githubLink" required />
  
        <div id="projectLinks">
          <label>Repository Link:</label>
          <input type="url" name="repos[]" required />
        </div>
  
        <button type="button" class="cta-button" onclick="addRepoInput()" style="margin: 10px 0;">
          ➕ Add More Projects
        </button>
  
        <button type="submit" class="cta-button">📧 Send</button>
      </form>
      <button onclick="togglePopup(false)" style="margin-top: 10px; color: #ff9800;">Close</button>
    </div>
  </div>
  

    <footer
      style="
        text-align: center;
        padding: 20px 0;
        margin-top: 50px;
        border-top: 1px solid #fff;
        font-size: 0.85rem;
        color: #ccc;
      "
    >
      Created by Akashdip Mahapatra, 2025 May 25<br />
      <a
        href="https://github.com/akashdip2001"
        target="_blank"
        style="color: #ff9800; text-decoration: none; margin-right: 15px"
        >GitHub</a
      >
      <a
        href="https://www.linkedin.com/in/akashdip2001"
        target="_blank"
        style="color: #ff9800; text-decoration: none"
        >LinkedIn</a
      >
    </footer>

    <script>
      const techLevels = {
        JavaScript: "easy",
        HTML: "easy",
        CSS: "easy",
        PHP: "hard",
        SQL: "hard",
        React: "hard",
        Nodejs: "hard",
        MongoDB: "hard",
        Express: "hard",
        WebSocket: "hard",
        Python: "easy",
        ESP32: "hard",
        "GPS-module": "hard",
        ESP8266: "hard",
      };

      const projects = [
        {
          title: "Portfolio Website",
          difficulty: "easy",
          desc: `<ul>
                   <li>Create your own portfolio website to showcase your projects and skills. &</li>
                   <li>Includes a contact form using SMTP (must take user email & phone number), and</li>
                   <li>store the data in a database for future contact.</li>
                 </ul>`,
          img: "img/Portfolio Website.png",
          link: "https://github.com/akashdip2001/",
          technologiesOptions: {
            "PHP + SQL": ["JavaScript", "PHP", "SQL"],
            "MERN Stack": ["MongoDB", "Express", "React", "Nodejs"],
          },
          categories: ["Development"],
        },
        {
          title: "Realtime Tracker",
          difficulty: "sample",
          desc: "Dynamic web app for tracking devices in real-time using WebSockets.",
          img: "https://github.com/akashdip2001/Realtime_Tracker/raw/main/public/images/Title%20img%2002.jpg",
          link: "https://github.com/akashdip2001/Realtime_Tracker",
          technologies: ["JavaScript", "WebSocket"],
          categories: ["Development"],
        },
        {
          title: "server.py",
          difficulty: "easy",
          desc: `<ul>
                    <li>This project includes a Python-based server that exposes <code>index.html</code> on a local port (see <code>LAN-server.py</code>).</li>
                    <li>Your task is to work on <code>WAN-server.py</code> to expose your local site over the internet.</li>
                    <li>Also, implement SSL for secure connections (like a secure tunnel).</li>
                    <li>It helps developers test their local sites on real devices — completely free and open-source.</li>
                 </ul>`,
          img: "img/server-py.png",
          link: "https://github.com/akashdip2001/server.py",
          technologies: ["Python"],
          categories: ["Networking", "Development"],
        },
        {
          title: "NAS",
          difficulty: "medium",
          desc: `<ul>
                   <li>It's the iOT projects, but this time you have to fix web issues.</li>
                   <li>Upgrade the HTML interface (Development), Or</li>
                   <li>Add or fix features, e.g., fix image preview in web UI, Or</li>
                   <li>Fix extension issue when downloading files</li>
                 </ul>`,
          img: "img/NAS.jpg",
          link: "https://github.com/akashdip2001/NAS-with-ESP32",
          technologies: ["ESP8266"],
          categories: ["Networking", "Development"],
        },
        {
          title: "GPS-with-ESP",
          difficulty: "easy",
          desc: "Detect user location with ESP32 and GPS module over secure SSL.",
          img: "https://github.com/akashdip2001/GPS-with-ESP/raw/main/public/Leaflet%20JS%2001.jpg",
          link: "https://github.com/akashdip2001/GPS-with-ESP",
          technologies: ["JavaScript", "WebSocket", "ESP32", "GPS-module"],
          categories: ["IoT"],
        },

        {
          title: "iOT Game",
          difficulty: "hard",
          desc: `<ul>
                  <li>Add new obstacles, Or</li>
                  <li>Optimize the game for this OLED display</li>
                </ul>`,
          img: "img/iOT game.jpg",
          link: "https://github.com/akashdip2001/ARDUINO-with-OLED-Display-Game",
          technologies: ["Python"],
          categories: ["IoT"],
        },
        {
          title: "Network Scanner & Blocker",
          difficulty: "sample",
          desc: `<ul>
                   <li>Scan any network for connected devices, and</li>
                   <li>Block any device without connecting to the router.</li>
                 </ul>`,
          img: "img/Wi-Fi-deauther.jpg",
          link: "https://github.com/akashdip2001/Wi-Fi-deauther-with-ESP8266-OLED-module",
          technologies: [],
          categories: ["H@cking", "Networking", "IoT"],
        },
        {
          title: "Fake AP + Captive Portal",
          difficulty: ["hard", "scratch"],
          desc: `<ul>
                  <li>create hunny pot (fake Wi-Fi network) to capture user credentials, and</li>
                  <li>redirect them to a fake login page.</li>
                  <li>store the captured data in a database for future use.</li>
                </ul>`,
          img: "https://github.com/akashdip2001/High-end-autonomous-anomaly-detection-robot/raw/main/img/modules%20(4).jpg",
          link: "https://github.com/akashdip2001/Wi-Fi-deauther-with-ESP8266-OLED-module",
          technologies: [],
          categories: ["IoT", "H@cking", "Networking"],
        },
        {
          title: "Fake AP + Captive Portal",
          difficulty: ["hard", "scratch"],
          desc: `<ul>
                  <li>check the previous project, and</li>
                  <li>use the password from database & try to connect to the main network automatically, and</li>
                  <li>If wrong again request for password.</li>
                </ul>`,
          img: "https://github.com/akashdip2001/High-end-autonomous-anomaly-detection-robot/raw/main/img/modules%20(4).jpg",
          link: "https://github.com/akashdip2001/Wi-Fi-deauther-with-ESP8266-OLED-module",
          technologies: [],
          categories: ["IoT", "H@cking", "Networking"],
        },
      ];

      function renderProjects() {
        const devContainer = document.getElementById("development-projects");
        const iotContainer = document.getElementById("iot-projects");
        const netContainer = document.getElementById("networking-projects");
        const hackContainer = document.getElementById(
          "penetration-testing-projects"
        );

        projects.forEach((project) => {
          const card = document.createElement("div");
          card.className = "project-card";

          // 🟡 Difficulty Badge Logic moved inside the loop
          let difficultyBadge = "";
          if (project.difficulty) {
            if (Array.isArray(project.difficulty)) {
              difficultyBadge = project.difficulty
                .map(
                  (level) =>
                    `<span class="tech-tag tech-${level}">${level}</span>`
                )
                .join(" ");
            } else {
              if (project.difficulty === "sample") {
                difficultyBadge = `
                   <span class="tooltip-sample">
                     <span class="tech-tag tech-sample">sample</span>
                     <span class="tooltip-text">This is a sample project. Take ideas and create your own.</span>
                   </span>
                 `;
              } else {
                difficultyBadge = `<span class="tech-tag tech-${project.difficulty}">${project.difficulty}</span>`;
              }
            }
          }

          let techHTML = "";
          let stackSelectorHTML = "";

          if (project.technologiesOptions) {
            const stackNames = Object.keys(project.technologiesOptions);
            const defaultStack = stackNames[0];
            const defaultTechs = project.technologiesOptions[defaultStack];

            techHTML = renderTechnologies(defaultTechs);
            stackSelectorHTML = `
        <label style="display:block;margin-top:10px;font-size:0.8rem;">
          Choose Stack:
          <select onchange="updateTechList(this, '${project.title.replace(
            /'/g,
            "\\'"
          )}')">
            ${stackNames
              .map((name) => `<option value="${name}">${name}</option>`)
              .join("")}
          </select>
        </label>
      `;
          } else if (project.technologies) {
            techHTML = renderTechnologies(project.technologies);
          }

          // 🟢 Inject difficultyBadge here
          card.innerHTML = `
      <img src="${project.img}" alt="${project.title}" />
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h3 style="margin-bottom:0;">${project.title}</h3>
        <div style="display:flex;gap:4px;">${difficultyBadge}</div>
      </div>
      <div class="desc short-desc">${truncateDescription(project.desc)}</div>
        <span class="learn-more" onclick="showFullDesc(\`${escapeHtml(
          project.desc
        )}\`)">... (Learn more)</span>

      <a href="${project.link}" target="_blank">View on GitHub</a>
      <div class="tech-list" data-project="${project.title}">${techHTML}</div>
      ${stackSelectorHTML}
    `;

          if (project.categories.includes("Development"))
            devContainer.appendChild(card.cloneNode(true));
          if (project.categories.includes("IoT"))
            iotContainer.appendChild(card.cloneNode(true));
          if (project.categories.includes("Networking"))
            netContainer.appendChild(card.cloneNode(true));
          if (project.categories.includes("H@cking"))
            hackContainer.appendChild(card.cloneNode(true));
        });
      }

      function truncateDescription(desc) {
        // Strip HTML tags for preview and limit to 150 characters
        const tempDiv = document.createElement("div");
        tempDiv.innerHTML = desc;
        const text = tempDiv.textContent || tempDiv.innerText || "";
        return text.length > 150 ? text.slice(0, 150) + "..." : text;
      }

      function escapeHtml(str) {
        return str
          .replace(/`/g, "\\`")
          .replace(/\$/g, "\\$")
          .replace(/\n/g, " ");
      }

      function showFullDesc(descHTML) {
        const modal = document.getElementById("descModal");
        const content = document.getElementById("modalContent");
        content.innerHTML = descHTML;
        modal.style.display = "flex";
      }

      document
        .getElementById("descModal")
        .addEventListener("click", function (e) {
          if (e.target === this) this.style.display = "none";
        });

      function renderTechnologies(techs) {
        return (
          `<div style="margin-top:10px;font-size:0.9rem;"><strong>Used Technologies:</strong><br>` +
          techs
            .map((t) => {
              const level = techLevels[t] || "easy";
              const bg = level === "easy" ? "#4caf50" : "#ff9800";
              return `<span style="display:inline-block;margin:2px 6px;padding:3px 6px;border-radius:8px;background:${bg};color:white;">${t}</span>`;
            })
            .join("") +
          `</div>`
        );
      }

      function updateTechList(selectElement, projectTitle) {
        const selectedStack = selectElement.value;
        const project = projects.find((p) => p.title === projectTitle);
        const techListEl = selectElement
          .closest(".project-card")
          .querySelector(".tech-list");

        if (project && project.technologiesOptions) {
          techListEl.innerHTML = renderTechnologies(
            project.technologiesOptions[selectedStack]
          );
        }
      }

      function enableImagePreview() {
        const preview = document.getElementById("imgPreview");

        document.querySelectorAll(".project-card img").forEach((img) => {
          img.style.cursor = "pointer";
          img.addEventListener("click", () => {
            preview.src = img.src;
            preview.style.display = "block";

            setTimeout(() => {
              preview.style.display = "none";
            }, 2000);
          });
        });
      }

      //   let difficultyBadge = "";
      //   if (project.difficulty) {
      //     if (Array.isArray(project.difficulty)) {
      //       difficultyBadge = project.difficulty
      //         .map(
      //           (level) => `<span class="tech-tag tech-${level}">${level}</span>`
      //         )
      //         .join(" ");
      //     } else {
      //       difficultyBadge = `<span class="tech-tag tech-${project.difficulty}">${project.difficulty}</span>`;
      //     }
      //   }

      // Show popup message on mobile for sample tags
      document.addEventListener("click", function (e) {
        if (e.target.classList.contains("tech-sample")) {
          const popup = document.createElement("div");
          popup.className = "sample-popup";
          popup.innerText =
            "This is a sample project. Take ideas from it and create your own.";
          document.body.appendChild(popup);
          popup.style.display = "block";

          setTimeout(() => {
            popup.remove();
          }, 3000);
        }
      });

      renderProjects();
      enableImagePreview();
    </script>
    <script>
      function revealRewards() {
        const section = document.getElementById("rewardSection");
        section.classList.remove("hidden");
        section.classList.add("animate-slide-up");
        section.scrollIntoView({ behavior: "smooth" });
      }

    // Floating button logic
  const floatingButton = document.getElementById("floatingButton");
  const rewardSection = document.getElementById("rewardSection");

  function handleRewardButton() {
    if (floatingButton.classList.contains("challenge-mode")) {
      window.scrollTo({ top: 0, behavior: "smooth" });
    } else {
      revealRewards();
    }
  }

  function updateFloatingButtonState() {
    const rewardRect = rewardSection.getBoundingClientRect();
    const isInView = rewardRect.top <= window.innerHeight / 2 && rewardRect.bottom >= 100;

    if (isInView) {
      floatingButton.innerHTML = `<span class="emoji">🚀</span> Challenge!`;
      floatingButton.classList.remove("reward-mode");
      floatingButton.classList.add("challenge-mode");
    } else {
      floatingButton.innerHTML = `<span class="emoji">🎁</span> Claim Reward`;
      floatingButton.classList.remove("challenge-mode");
      floatingButton.classList.add("reward-mode");
    }
  }

  window.addEventListener("scroll", updateFloatingButtonState);
  window.addEventListener("load", updateFloatingButtonState);

  
  function togglePopup(show) {
    const modal = document.getElementById("submitModal");
    modal.classList.toggle("show", show);
  }

  function addRepoInput() {
    const container = document.getElementById("projectLinks");
    const input = document.createElement("input");
    input.type = "url";
    input.name = "repos[]";
    input.placeholder = "Another repo link";
    input.required = true;
    container.appendChild(input);
  }

  document.getElementById("submissionForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const data = new FormData(this);
  const repos = data.getAll("repos[]").filter(url => url.trim() !== "");
  if (repos.length === 0) {
    alert("Please add at least one repository link.");
    return;
  }

  const fullName = data.get("fullName");
  const githubLink = data.get("githubLink");
  const repoList = repos.map((r, i) => `• Repo ${i + 1}: ${r}`).join("\n");

  const message = `*🎓 GitHub Challenge Submission*\n\n*Name:* ${fullName}\n*GitHub:* ${githubLink}\n*Repositories:*\n${repoList}`;

  // Encode the message for URL
  const encodedMessage = encodeURIComponent(message);

  // Redirect to WhatsApp chat with the message
  window.open(`https://wa.me/917076033011?text=${encodedMessage}`, "_blank");

  togglePopup(false);
  document.getElementById("submissionForm").reset();
});
</script>

<!-- Load SMTP.js -->
<script src="https://smtpjs.com/v3/smtp.js"></script>
    
  </body>
</html>
